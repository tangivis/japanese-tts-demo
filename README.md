# Japanese TTS Demo

Web Speech APIを活用した日本語音声合成デモアプリケーションの技術調査及び実装報告

## TTS 特点

### 技術特点
- **基于浏览器原生 Web Speech API**：完全本地处理，无需网络请求
- **实时流式播放**：直接通过扬声器输出，无延迟
- **无时间限制**：支持长文本朗读，浏览器会自动分段处理
- **日语语音优化**：自动选择最佳日语语音引擎
- **可调节参数**：语速、音调、音量可控制
- **纯前端应用**：无需后端服务器
- **静态部署**：可部署到任何静态文件服务器
- **现代化 UI**：基于 Element Plus 的美观界面
- **响应式设计**：支持桌面和移动端

### 浏览器兼容性
- **Chrome/Edge**：完美支持，日语语音质量最佳
- **Firefox**：基本支持
- **Safari**：支持但语音选择有限
- **移动端**：iOS Safari 和 Android Chrome 均支持

## 1. プロジェクト概要

### 技術仕様
- **音声合成技術**: Web Speech API（SpeechSynthesis）
- **フロントエンド**: Vue.js 3 + Composition API
- **UIフレームワーク**: Element Plus
- **ビルドツール**: Vite
- **アーキテクチャ**: 純粋なフロントエンドアプリケーション（APIサーバー不要）

### Web Speech APIの利点
- ✅ **無料利用**: ブラウザ標準API、追加コスト不要
- ✅ **リアルタイム処理**: サーバー通信なしで即座に音声生成
- ✅ **プライバシー保護**: テキストデータがサーバーに送信されない
- ✅ **オフライン対応**: インターネット接続不要で動作
- ✅ **クロスプラットフォーム**: 主要ブラウザで標準サポート

## 2. 使用方法

### 2.1 テキスト入力・ファイルアップロード
1. **直接入力**: テキストエリアに日本語テキストを入力
2. **ファイルアップロード**: TXT・MDファイルをドラッグ&ドロップまたは選択
3. **文字数制限**: 最大2000文字まで対応

### 2.2 音声生成・再生
1. **音声生成**: 「音声を生成」ボタンをクリック
2. **自動再生**: 生成完了後、自動的に音声再生開始
3. **再生制御**: 再生/停止ボタンで音声コントロール
4. **再生中の操作**: テキストの選択・スクロール・コピーが可能（編集は禁止）

### 2.3 テキスト編集
1. **編集モード**: 音声停止中は常時編集可能
2. **再生成**: テキスト変更後、新しい音声の生成が必要
3. **同期状態表示**: テキストと音声の同期状態をリアルタイム表示

### 2.4 履歴管理
1. **自動保存**: 音声生成したテキストを自動的に履歴に保存
2. **履歴選択**: 過去のテキストをクリックで入力欄に復元
3. **履歴削除**: 個別の履歴アイテムを削除可能
4. **最大保存数**: 最新10件まで保持

## 3. TTS技術比較

| サービス | 価格 | 音質 | 日本語対応 | リアルタイム性 | 導入コスト | 制限事項 |
|---------|------|------|-----------|--------------|----------|---------|
| **Web Speech API** | 無料 | 中 | ○ | 即座 | なし | ブラウザ依存、音声種類限定 |
| Google Cloud TTS | $16/100万文字 | 高 | ◎ | 高速 | API設定必要 | 従量課金、ネット必須 |
| AWS Polly | $16/100万文字 | 高 | ○ | 高速 | AWS設定必要 | 従量課金、ネット必須 |
| Azure Cognitive Services | $16/100万文字 | 高 | ○ | 高速 | Azure設定必要 | 従量課金、ネット必須 |
| OpenAI TTS | $15/100万文字 | 最高 | ◎ | 中速 | API設定必要 | 高価格、ネット必須 |

**無料利用枠**
- Google Cloud TTS: 毎月100万文字永久無料
- AWS Polly: 初年度のみ無料
- Azure/OpenAI: 無料枠なし

## 4. 現在の技術的制約

### 4.1 アーキテクチャ上の制約
- **純粋フロントエンド**: 外部API呼び出しには別途バックエンドサーバーが必要
- **CORS制限**: ブラウザセキュリティにより直接API呼び出しが制限される
- **認証情報**: APIキーなどの機密情報をフロントエンドに埋め込めない

### 4.2 Web Speech APIの機能制限
- **シーク機能なし**: 音声の途中から再生できない（先頭からのみ）
- **正確な時間取得不可**: 現在の再生位置や総再生時間が取得できない
- **プログレスバー未対応**: 音声進捗の視覚的表示が困難
- **音声保存不可**: 生成された音声をファイルとして保存できない
- **音質制御限定**: ボイス選択は可能だが、詳細なパラメータ調整不可
- **ブラウザ依存**: 対応音声やエンジンがブラウザ・OS により異なる
- **文字数制限**: 約32,767文字まで（ブラウザにより異なる）
- **状態変化タイミング未定義**: pause/resume の正確なタイミング制御が困難

### 4.3 ユーザビリティの制約
- **音声プレビュー不可**: 生成前に音声サンプルを確認できない
- **バッチ処理未対応**: 複数テキストの一括音声生成不可
- **エクスポート機能なし**: 音声ファイルのダウンロード不可

## 5. 今後の開発予定

### 5.1 入力機能拡張
- [ ] **複数ファイル形式対応**: PDF、DOCX、RTF、CSVファイルの読み込み
- [ ] **URL読み込み**: WebページのテキストコンテンツをOG取得
- [ ] **OCR機能**: 画像からのテキスト抽出（Tesseract.js）
- [ ] **音声入力**: Speech-to-Textで音声からテキスト変換

### 5.2 AI機能統合
- [ ] **LLM対話生成**: ChatGPTと連携してテキストを自然な対話形式に変換
- [ ] **キャラクター設定**: 複数の人格（先輩・後輩・専門家）での対話生成
- [ ] **要約機能**: 長文テキストの自動要約
- [ ] **質問生成**: テキスト内容に基づく理解度確認質問の自動生成

### 5.3 音声機能強化
- [ ] **高品質TTS統合**: Google Cloud TTS、OpenAI TTSとの連携
- [ ] **リアルタイム音声表示**: 現在読み上げ中の文章をハイライト表示
- [ ] **音声速度調整**: 再生速度の動的変更（0.5x〜2.0x）
- [ ] **音声ファイル出力**: MP3、WAV形式での音声エクスポート
- [ ] **バックグラウンド再生**: ブラウザタブ切り替え時も継続再生

### 5.4 UX/UI改善
- [ ] **プログレスバー**: 音声再生の視覚的進捗表示
- [ ] **ブックマーク機能**: テキストの特定位置をマーク・ジャンプ
- [ ] **ダークモード**: テーマ切り替え機能
- [ ] **多言語UI**: 英語・中国語・韓国語のインターフェース対応
- [ ] **キーボードショートカット**: 再生制御のホットキー対応

### 5.5 データ管理
- [ ] **クラウド同期**: ユーザーアカウントと履歴の同期
- [ ] **プロジェクト機能**: 複数のテキストをプロジェクト単位で管理
- [ ] **タグ付け**: テキストのカテゴリ分類・検索機能
- [ ] **統計表示**: 利用時間・文字数・学習進捗の可視化

---

## 技術仕様

**開発環境**
- Node.js 20.x
- Vue.js 3.4+
- Element Plus 2.8+
- Vite 5.x

**対応ブラウザ**
- Chrome 71+ (Web Speech API対応)
- Firefox 62+ (Web Speech API対応)
- Safari 14.1+ (Web Speech API対応)
- Edge 79+ (Web Speech API対応)

**最終更新**: 2025年7月10日